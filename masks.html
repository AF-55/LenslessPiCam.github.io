<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LenslessPiCam</title>
    <!--<link rel="stylesheet" href="styles.css"-->
    <style>
        body {
            margin: 100px;
            background: white;
            text-align: center;
            align-items: center;
            justify-content: center;
            font-family: Arial;
        }
        img {
            vertical-align: middle
        }
        figcaption {
            color: dark gray;
            font: italic smaller sans-serif;
            padding: 3px;
            text-align: center;
        }
    </style>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</head>


<body>
    <img src="images/logos/epfl.png" height="40" style="margin-right: 100px;"> <img src="images/logos/LCAV.png" height="70">
    <h1>LenslessPiCam</h1>
    <!--<a href="/LenslessPiCamWeb/contact.html">contact</a>-->
    <p>
        <b><em>A hardware and software toolkit for lensless computational imaging with Raspberry Pi</em></b>
    </p>

    <br>
    <a href="/LenslessPiCamWeb/home.html">Home</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="/LenslessPiCamWeb/tutorial.html">Tutorial</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="/LenslessPiCamWeb/masks.html">Mask design</a> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <a href="/LenslessPiCamWeb/simulation.html">Simulation</a>
    <br><br><br>

    <h2>Mask design</h2>

    <h3><b>Coded aperture</b> (seen in the <a href="https://arxiv.org/abs/1509.00116">FlatCam</a> article)</h3>
    <p>
        Coded apertures are masks that contain a specific pattern of transparent and opaque elements that allow only certain portions of the incoming light or radiation to pass through. 
        They are separable (i.e. can be considered as the outer product of two vectors).
    </p>
    <p>    
        <a href="https://en.wikipedia.org/wiki/Modified_Uniformly_Redundant_Array"><b>Modified Uniformly Redundant Arrays (MURA)</b></a>: 
        a MURA (Maximum Length Sequence Uniformly Redundant Array) is constructed by arranging detectors or mask elements in a specific pattern that maximizes the information captured from a scene, often following mathematical principles to achieve uniform redundancy for better image reconstruction.
        The code to obtain such masks was inspired from the code available in <a href="https://github.com/kkretschmer/MURA.jl">this repository</a>.
        <br>
        <img src="images/masks/MURA_101.png" height="250"> <img src="images/masks/MURA_197.png" height="250"> <img src="images/masks/MURA_293.png" height="250"> <img src="images/masks/MURA_397.png" height="250">
    </p>
    <p>
        <a href="https://en.wikipedia.org/wiki/Maximum_length_sequence"><b>Maximum length sequences (MLS)</b></a>: 
        maximum Length Sequences (MLS) are pseudo-random binary sequences with periodic values generated by a linear feedback shift register (LFSR) with low cross-correlation and good auto-correlation properties. 
        They enable efficient light collection capability and adaptability, making them promising candidates for the design of coded masks in lensless imaging.
        <br>
        <img src="images/masks/MLS_5bits.png" height="250"> <img src="images/masks/MLS_6bits.png" height="250"> <img src="images/masks/MLS_7bits.png" height="250"> <img src="images/masks/MLS_8bits.png" height="250">
    </p>
    <br>

    <h3><b>Phase contour</b> (seen in the <a href="https://ieeexplore.ieee.org/document/9076617">PlatCam</a> article)</h3>
    <p>
        Unlike coded apertures or Fresnel zone apertures, phase contour masks are not amplitude masks, they are phase masks: 
        there are no occlusions, but thickness changes throughout the mask, making the phase of the incoming light changed in the same manner. 
    </p>
    <p>
        The phase contour computation is done by detecting the edges of a <a href="https://en.wikipedia.org/wiki/Perlin_noise">Perlin noise</a> (a smooth, continuous random noise pattern used to generate textures). 
        The edge detection was done by using the Canny edge detection implemented in the <a href="https://docs.opencv.org/3.4/da/d22/tutorial_py_canny.html">OpenCV</a> library. 
        Since the basic Perlin noise is to blurry for it to work, we made the edges more easily detectable by rounding the noise so that is becomes binary.
    </p>
    <img src="images/masks/edge_detection_dim256x256_res8x8.png" height="250">
    <br>
    <img src="images/masks/edge_detection_dim512x512_res16x16.png" height="250">
    <br>
    <br>

    <h3><a href="https://www.nature.com/articles/s41377-020-0289-9"><b>Fresnel Zone Aperture</b></a></h3>
    <p>
        A Fresnel zone aperture (FZA) is a mask that contains a series of concentric circular rings. 
        It operates on the principle of diffraction: the concentric rings of the zone plate are designed to create constructive and destructive interference patterns, which can be used to focus or manipulate light.
        We computed the FZA pattern by using the following transmission function:
        $$ T(r) = \frac{1}{2} \left( 1 + \text{sgn} \left( \cos \left( \frac{\pi r^2}{R^2} \right) \right) \right) $$
        Such pattern is meant to "simulate" different focal lengths.
        <br>
    </p>
    <img src="images/masks/fza_dim4056x3040_r300.png" height="400">



</body>
</html>